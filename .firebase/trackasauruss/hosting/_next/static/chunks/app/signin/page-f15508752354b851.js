(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{1389:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var i=r(5155),s=r(2115),o=r(5695),a=r(5997),n=r(6874),c=r.n(n);function u(){let[e,t]=(0,s.useState)(""),[r,n]=(0,s.useState)(!1),u=(0,o.useRouter)(),l=async()=>{n(!0),t("");try{await (0,a.G6)(),u.push("/dashboard")}catch(e){"auth/popup-closed-by-user"===e.code?t("Sign-in popup was closed. Please try again."):t(e.message||"An error occurred during sign-in.")}finally{n(!1)}};return(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500",children:(0,i.jsxs)("div",{className:"bg-white/90 backdrop-blur-md p-8 rounded-xl shadow-xl w-full max-w-md",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome Back"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Sign in to continue to Tracko"})]}),e&&(0,i.jsx)("div",{className:"bg-red-100 text-red-700 p-3 rounded-lg mb-4 text-center text-sm",children:e}),(0,i.jsxs)("button",{onClick:l,disabled:r,className:"flex items-center justify-center gap-3 w-full p-3 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 mb-6",children:[(0,i.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:(0,i.jsxs)("g",{transform:"matrix(1, 0, 0, 1, 0, 0)",children:[(0,i.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,i.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,i.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,i.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}),(0,i.jsx)("span",{className:"text-gray-700 font-medium",children:r?"Signing in...":"Continue with Google"})]}),(0,i.jsx)("div",{className:"text-center text-sm text-gray-600",children:(0,i.jsxs)("p",{children:["Don't have an account?"," ",(0,i.jsx)(c(),{href:"/signup",className:"text-indigo-600 hover:text-indigo-800 font-medium",children:"Sign Up"})]})})]})})}},2152:function(e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function i(e,t){var r=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(t);if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++){var o=r[s];if(e[o]!==t[o])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.areCookiesEqual=t.hasSameProperties=t.createCookie=t.isBrowser=void 0,t.isBrowser=function(){return"undefined"!=typeof window},t.createCookie=function(e,t,i){var s=i.sameSite;!0===s&&(s="strict"),(void 0===s||!1===s)&&(s="lax");var o=r(r({},i),{sameSite:s});return delete o.encode,r({name:e,value:t},o)},t.hasSameProperties=i,t.areCookiesEqual=function(e,t){var s=e.sameSite===t.sameSite;return"string"==typeof e.sameSite&&"string"==typeof t.sameSite&&(s=e.sameSite.toLowerCase()===t.sameSite.toLowerCase()),i(r(r({},e),{sameSite:void 0}),r(r({},t),{sameSite:void 0}))&&s}},2961:function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.destroyCookie=t.setCookie=t.parseCookies=void 0;var s=r(3074),o=r(3370),a=r(2152);function n(e,t){var r,i;return(null===(i=null===(r=null==e?void 0:e.req)||void 0===r?void 0:r.headers)||void 0===i?void 0:i.cookie)?s.parse(e.req.headers.cookie,t):a.isBrowser()?s.parse(document.cookie,t):{}}function c(e,t,r,n){var c,u;if(void 0===n&&(n={}),(null===(c=null==e?void 0:e.res)||void 0===c?void 0:c.getHeader)&&e.res.setHeader){if(null===(u=null==e?void 0:e.res)||void 0===u?void 0:u.finished)return console.warn('Not setting "'+t+'" cookie. Response has finished.'),console.warn("You should set cookie before res.send()"),{};var l=e.res.getHeader("Set-Cookie")||[];"string"==typeof l&&(l=[l]),"number"==typeof l&&(l=[]);var d=o.parse(l,{decodeValues:!1}),p=a.createCookie(t,r,n),f=[];d.forEach(function(e){if(!a.areCookiesEqual(e,p)){var t=s.serialize(e.name,e.value,i({encode:function(e){return e}},e));f.push(t)}}),f.push(s.serialize(t,r,n)),e.res.setHeader("Set-Cookie",f)}if(a.isBrowser()){if(n&&n.httpOnly)throw Error("Can not set a httpOnly cookie in the browser.");document.cookie=s.serialize(t,r,n)}return{}}function u(e,t,r){return c(e,t,"",i(i({},r||{}),{maxAge:-1}))}t.parseCookies=n,t.setCookie=c,t.destroyCookie=u,t.default={set:c,get:n,destroy:u}},3074:(e,t)=>{"use strict";t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var i={},s=e.split(";"),o=(t||{}).decode||r,a=0;a<s.length;a++){var n=s[a],c=n.indexOf("=");if(!(c<0)){var u=n.substring(0,c).trim();if(void 0==i[u]){var l=n.substring(c+1,n.length).trim();'"'===l[0]&&(l=l.slice(1,-1)),i[u]=function(e,t){try{return t(e)}catch(t){return e}}(l,o)}}}return i},t.serialize=function(e,t,r){var o=r||{},a=o.encode||i;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!s.test(e))throw TypeError("argument name is invalid");var n=a(t);if(n&&!s.test(n))throw TypeError("argument val is invalid");var c=e+"="+n;if(null!=o.maxAge){var u=o.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(o.domain){if(!s.test(o.domain))throw TypeError("option domain is invalid");c+="; Domain="+o.domain}if(o.path){if(!s.test(o.path))throw TypeError("option path is invalid");c+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw TypeError("option expires is invalid");c+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var r=decodeURIComponent,i=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},3370:e=>{"use strict";var t={decodeValues:!0,map:!1,silent:!1};function r(e){return"string"==typeof e&&!!e.trim()}function i(e,i){var s,o,a,n,c=e.split(";").filter(r),u=(s=c.shift(),o="",a="",(n=s.split("=")).length>1?(o=n.shift(),a=n.join("=")):a=s,{name:o,value:a}),l=u.name,d=u.value;i=i?Object.assign({},t,i):t;try{d=i.decodeValues?decodeURIComponent(d):d}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+d+"'. Set options.decodeValues to false to disable this feature.",e)}var p={name:l,value:d};return c.forEach(function(e){var t=e.split("="),r=t.shift().trimLeft().toLowerCase(),i=t.join("=");"expires"===r?p.expires=new Date(i):"max-age"===r?p.maxAge=parseInt(i,10):"secure"===r?p.secure=!0:"httponly"===r?p.httpOnly=!0:"samesite"===r?p.sameSite=i:"partitioned"===r?p.partitioned=!0:p[r]=i}),p}function s(e,s){if(s=s?Object.assign({},t,s):t,!e)return s.map?{}:[];if(e.headers){if("function"==typeof e.headers.getSetCookie)e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var o=e.headers[Object.keys(e.headers).find(function(e){return"set-cookie"===e.toLowerCase()})];o||!e.headers.cookie||s.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=o}}return(Array.isArray(e)||(e=[e]),s.map)?e.filter(r).reduce(function(e,t){var r=i(t,s);return e[r.name]=r,e},{}):e.filter(r).map(function(e){return i(e,s)})}e.exports=s,e.exports.parse=s,e.exports.parseString=i,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var t,r,i,s,o,a=[],n=0;function c(){for(;n<e.length&&/\s/.test(e.charAt(n));)n+=1;return n<e.length}for(;n<e.length;){for(t=n,o=!1;c();)if(","===(r=e.charAt(n))){for(i=n,n+=1,c(),s=n;n<e.length&&"="!==(r=e.charAt(n))&&";"!==r&&","!==r;)n+=1;n<e.length&&"="===e.charAt(n)?(o=!0,n=s,a.push(e.substring(t,i)),t=n):n=i+1}else n+=1;(!o||n>=e.length)&&a.push(e.substring(t,e.length))}return a}},5695:(e,t,r)=>{"use strict";var i=r(8999);r.o(i,"useRouter")&&r.d(t,{useRouter:function(){return i.useRouter}})},5997:(e,t,r)=>{"use strict";r.d(t,{BP:()=>c,G6:()=>n});var i=r(8185),s=r(6203),o=r(5317),a=r(2961);let n=async()=>{try{let e=(await (0,s.df)(i.j,i.M)).user,t=await e.getIdToken();(0,a.setCookie)(null,"session",t,{maxAge:2592e3,path:"/",secure:!0,sameSite:"strict"});let r=(0,o.H9)(i.db,"users",e.uid);return(await (0,o.x7)(r)).exists()?await (0,o.BN)(r,{lastLogin:(0,o.O5)()},{merge:!0}):await (0,o.BN)(r,{name:e.displayName||"User",email:e.email,photoURL:e.photoURL,createdAt:(0,o.O5)(),lastLogin:(0,o.O5)()}),e}catch(e){throw console.error("Google Sign-In Failed:",e),e}};async function c(){try{return await (0,s.CI)(i.j),!0}catch(e){throw console.error("Error signing out: ",e),e}}},6914:(e,t,r)=>{Promise.resolve().then(r.bind(r,1389))},8185:(e,t,r)=>{"use strict";r.d(t,{j:()=>n,db:()=>u,M:()=>c});var i=r(3915),s=r(6203),o=r(5317);let a=(0,i.Wp)({apiKey:"AIzaSyDgsESwCYJW7qdTSECKG-vMWesnDmV-pzw",authDomain:"trackasauruss.firebaseapp.com",projectId:"trackasauruss",storageBucket:"trackasauruss.firebasestorage.app",messagingSenderId:"14265541512",appId:"1:14265541512:web:5df496f8185d7dead7103d"}),n=(0,s.xI)(a),c=new s.HF,u=(0,o.aU)(a)}},e=>{var t=t=>e(e.s=t);e.O(0,[992,93,613,874,441,684,358],()=>t(6914)),_N_E=e.O()}]);